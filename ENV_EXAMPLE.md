# 環境変数設定例

## 必要な環境変数

以下の環境変数を `.env.local` ファイルに設定してください：

```bash
# カメラのグローバルIPアドレス
NEXT_PUBLIC_CAMERA_GLOBAL_IP=153.134.16.130

# カメラのローカルIPアドレス
NEXT_PUBLIC_CAMERA_LOCAL_IP=192.168.11.43

# カメラ認証情報
CAMERA_USERNAME=root
CAMERA_PASSWORD=SOUMU-RF-1
```

## 動作仕様

1. **現在のネットワークのグローバル IP アドレスを取得**

   - 外部 API を使用して現在のネットワークのグローバル IP アドレスを取得

2. **接続方法の決定**

   - 現在のグローバル IP アドレス = カメラのグローバル IP アドレスの場合
     → カメラのローカル IP アドレスに直接アクセス
   - 現在のグローバル IP アドレス ≠ カメラのグローバル IP アドレスの場合
     → カメラのグローバル IP アドレスを経由してローカル IP アドレスにアクセス

3. **VAPIX API による映像取得**
   - `/axis-cgi/mjpg/video.cgi` を使用してライブストリーミングを取得
   - Basic 認証を使用

## トラブルシューティング

### よくある問題と解決方法

1. **接続エラー**

   - カメラの IP アドレスが正しいか確認
   - ファイアウォールの設定を確認
   - カメラのネットワーク接続を確認

2. **認証エラー**

   - ユーザー名とパスワードが正しいか確認
   - カメラの認証設定を確認

3. **映像が表示されない**
   - VAPIX API が有効になっているか確認
   - カメラのストリーミング設定を確認
